local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveData = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local UserInputService = game:GetService("UserInputService")

if not Fluent then
    warn("Fluent library failed to load.")
    return
end

local Window = Fluent:CreateWindow({
    Title = "Knight Hub",
    SubTitle = "Dead Rails Script",
    TabWidth = 160,
    Size = UDim2.fromOffset(480, 370),
    Acrylic = true,
    Theme = "Dark"
})

local Tabs = {
    Main = Window:AddTab({ Title = "Main Farm" }),
}

Tabs.Main:AddButton({
    Title = "Unlock Camera",
    Callback = function()
        local player = game.Players.LocalPlayer or game.Players.PlayerAdded:Wait()
        player.CameraMode = Enum.CameraMode.Classic
    end
})

local noclipConnection

Tabs.Main:AddButton({
    Title = "Noclip",
    Callback = function()
        if noclipConnection then
            noclipConnection:Disconnect()
        end

        local player = game.Players.LocalPlayer

        noclipConnection = game:GetService("RunService").Stepped:Connect(function()
            local character = player.Character
            if character then
                for _, part in ipairs(character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    end
})
